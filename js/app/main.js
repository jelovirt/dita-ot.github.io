'use strict';define(['TocController','SearchController','TopicNavigatorController','HelpController','jquery'],function(TocController,SearchController,TopicNavigatorController,HelpController,$){var indexAttr=$("link[rel=index]").attr('href');if(indexAttr&&window.history){var index=new URI(indexAttr).absoluteTo(window.location.href).href();$.ajax({url:index,success:function success(data){var $toc=$("<body>").append($.parseHTML(data)).find('nav');TocController($toc,index);var searchController=SearchController($toc,index);var topicNavigatorController=TopicNavigatorController($toc,index);var activationKeys=[searchController,topicNavigatorController];$(document).keypress(openSearch);HelpController();function openSearch(event){var $target=$(event.target);var key=event.which;if($target.is(':input')||$('.modal:visible').length!==0||!!event.metaKey){}else {activationKeys.filter(function(c){return c.activationKey===key;}).forEach(function(c){event.preventDefault();event.stopPropagation();c.show();});}}}});}});